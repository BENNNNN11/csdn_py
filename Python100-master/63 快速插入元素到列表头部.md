# Python100



## 快速插入元素到列表头部

可以通过切片指定位置插入，头部就是[0:0]

```
>>> l = [1, 2, 3, 4, 5]
>>> l[0:0] = 'Python'
>>> l
['P', 'y', 't', 'h', 'o', 'n', 1, 2, 3, 4, 5]
```
还可以通过 insert() 方法插入，第一个参数是位置的坐标，从 0 开始。

```
>>> l = [1, 2, 3, 4, 5]
>>> l.insert(0, 'first')
>>> l
['first', 1, 2, 3, 4, 5]
```

在第一个元素之前添加一个元素之类的操作是很耗时的，因为这些操作会牵扯到移动列表里的所有元素。有没有更高效的方法？用双向队列 deque 类。

deque 类可以指定这个队列的大小，如果这个队列满员了，还可以从反向端删除过期的元素，然后在尾端添加新的元素。
 

```
>>> from collections import deque
>>> dp = deque(range(10), maxlen=15)
>>> dp
deque([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], maxlen=15)
>>> dp.appendleft(-1)
>>> dp
deque([-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], maxlen=15)
```